<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SAFE COMPLIANCE | Intelligence-Led Estate Governance</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --navy:#020617;
      --lime:#82bc00;
      --white:#ffffff;
      --border-white:rgba(255,255,255,.10);
      --border-white-2:rgba(255,255,255,.16);
      --panel:rgba(255,255,255,.03);
      --shadow:0 0 0 1px rgba(255,255,255,.06);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth; scroll-padding-top:84px;}
    body{
      margin:0;
      font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--white);
      background:var(--navy);
      line-height:1.5;
    }
    a{color:inherit; text-decoration:none}
    .container{width:min(1200px, 92vw); margin:0 auto;}

    /* ====== FUTURISTIC BACKDROP ====== */
    .scanlines{
      position:absolute; inset:0;
      pointer-events:none;
      opacity:.08;
      background:
        repeating-linear-gradient(to bottom,
          rgba(255,255,255,.12) 0px,
          rgba(255,255,255,.12) 1px,
          transparent 2px,
          transparent 6px
        );
    }
    .glow{
      position:absolute; inset:0;
      pointer-events:none;
      background:
        radial-gradient(900px 520px at 18% 10%, rgba(130,188,0,.12), transparent 60%),
        radial-gradient(900px 520px at 82% 38%, rgba(56,189,248,.08), transparent 60%);
    }

    /* ====== SECTION FULL HEIGHT + GREEN SEPARATORS ====== */
    .fullscreen{
      min-height:100vh;
      display:flex;
      align-items:center;
      padding:110px 0;
      position:relative;
      overflow:hidden;
      background:var(--navy);
    }
    .separator-top{
      position:absolute; left:0; top:0; width:100%;
      height:3px;
      background:linear-gradient(90deg, rgba(130,188,0,.0), rgba(130,188,0,.9), rgba(130,188,0,.0));
      box-shadow: 0 0 18px rgba(130,188,0,.22);
      opacity:.95;
      pointer-events:none;
    }
    .separator-bottom{
      position:absolute; left:0; bottom:0; width:100%;
      height:1px;
      background:rgba(130,188,0,.35);
      box-shadow: 0 0 18px rgba(130,188,0,.14);
      pointer-events:none;
    }

    /* ====== PULSING DOT (use everywhere) ====== */
    .pulse-dot{
      width:6px;height:6px;border-radius:999px;
      background:var(--lime);
      box-shadow:0 0 16px rgba(130,188,0,.35);
      position:relative;
      flex:0 0 6px;
    }
    .pulse-dot:after{
      content:"";
      position:absolute; inset:-8px;
      border-radius:999px;
      border:1px solid rgba(130,188,0,.55);
      opacity:.0;
      animation:pulse 1.6s ease-out infinite;
    }
    @keyframes pulse{
      0%{transform:scale(.35); opacity:.0}
      25%{opacity:.55}
      100%{transform:scale(1.35); opacity:0}
    }

    .green{ color:var(--lime); }

    /* ====== NAV ====== */
    .nav{
      position:sticky; top:0; z-index:1000;
      background:linear-gradient(to bottom, rgba(2,6,23,.92), rgba(2,6,23,.78));
      backdrop-filter: blur(10px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav-inner{
      display:flex; align-items:center; justify-content:space-between;
      padding:18px 0;
      gap:16px;
    }

    /* Logo spacing (tight join) */
    .brand{
      display:inline-flex;
      align-items:baseline;
      gap:0;
      font-weight:900;
      letter-spacing:.02em;
      line-height:1;
      font-size:18px;
    }
    .brand .safe{color:#fff;}
    .brand .comp{color:var(--lime); margin-left:-1px;}

    .nav-links{
      display:flex; align-items:center; gap:22px;
      font-size:12px; letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(255,255,255,.70);
      white-space:nowrap;
    }
    .nav-links a{
      padding:8px 0;
      border-bottom:1px solid transparent;
      transition:.18s ease;
    }
    .nav-links a:hover{color:#fff;}
    .nav-links a.active{
      color:var(--lime);
      border-bottom-color:rgba(130,188,0,.55);
    }

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      border-radius:14px;
      padding:14px 18px;
      font-size:12px; letter-spacing:.22em;
      text-transform:uppercase;
      font-weight:800;
      border:1px solid var(--border-white-2);
      background:transparent;
      color:rgba(255,255,255,.88);
      transition:.18s ease;
      cursor:pointer;
      user-select:none;
    }
    .btn:hover{border-color:rgba(255,255,255,.28); background:rgba(255,255,255,.04);}
    .btn.primary{
      background:var(--lime);
      color:#000;
      border-color:rgba(130,188,0,.6);
    }
    /* (1) Header Execute Audit: green + hover colour change */
    .btn.primary:hover{
      background:#a6f100; /* brighter */
      border-color:rgba(166,241,0,.65);
      transform:translateY(-1px);
    }

    .nav-cta{display:flex; gap:10px; align-items:center;}
    .hamburger{
      display:none;
      width:44px; height:44px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.03);
      cursor:pointer;
    }
    .hamburger span{display:block; height:2px; width:18px; margin:0 auto; background:rgba(255,255,255,.75); position:relative;}
    .hamburger span:before,.hamburger span:after{
      content:""; position:absolute; left:0; width:18px; height:2px;
      background:rgba(255,255,255,.75);
    }
    .hamburger span:before{top:-6px;}
    .hamburger span:after{top:6px;}
    @media (max-width:900px){
      .nav-links{display:none;}
      .hamburger{display:inline-flex; align-items:center; justify-content:center;}
    }
    .mobile-menu{
      display:none;
      border-top:1px solid rgba(255,255,255,.06);
      padding:12px 0 18px;
    }
    .mobile-menu.open{display:block;}
    .mobile-menu a{
      display:block;
      padding:12px 0;
      font-size:12px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:rgba(255,255,255,.78);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .mobile-menu a:last-child{border-bottom:none;}
    .mobile-menu a.active{color:var(--lime);}

    /* ====== HERO ====== */
    .statusline{
      display:flex; align-items:center; gap:10px;
      font-size:11px;
      letter-spacing:.28em;
      text-transform:uppercase;
      color:rgba(130,188,0,.85);
    }

    /* (5) Removed system console, so single column hero */
    .hero-grid{display:block; width:100%;}

    .hero h1{
      margin:18px 0 16px;
      font-size: clamp(44px, 6vw, 86px);
      line-height:.92;
      letter-spacing:-.03em;
      font-weight:900;
    }
    .hero p{
      max-width:760px;
      color:rgba(255,255,255,.68);
      font-size:16px;
      line-height:1.7;
      margin:0 0 26px;
    }
    .hero-actions{display:flex; gap:14px; flex-wrap:wrap;}

    /* ====== SECTION HEADERS ====== */
    .kicker{
      display:flex; align-items:center; gap:10px;
      font-size:11px;
      letter-spacing:.28em;
      text-transform:uppercase;
      color:rgba(130,188,0,.9);
    }
    .title{
      margin:14px 0 10px;
      font-size: clamp(32px, 4vw, 56px);
      font-weight:900;
      letter-spacing:-.02em;
      line-height:1.05;
    }
    .lead{
      margin:0;
      max-width:760px;
      color:rgba(255,255,255,.70);
      line-height:1.7;
    }

    /* ====== ARCHITECTURE ====== */
    .arch-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:22px;
      margin-top:22px;
      align-items:start;
      width:100%;
    }
    @media (max-width:980px){ .arch-grid{grid-template-columns:1fr;} }

    .stats{
      display:flex; gap:22px; margin-top:24px; flex-wrap:wrap;
      align-items:stretch;
    }
    .stat{
      border-left:1px solid rgba(130,188,0,.35);
      padding-left:16px;
      min-width:160px;
    }
    .stat .label{
      font-size:10px; letter-spacing:.28em; text-transform:uppercase;
      color:rgba(130,188,0,.85);
    }
    .stat .value{margin-top:6px; font-size:26px; font-weight:900; letter-spacing:-.02em;}
    .stat .sub{margin-top:2px; font-size:12px; color:rgba(255,255,255,.55); letter-spacing:.12em; text-transform:uppercase;}

    /* live computing ticker */
    .compute-strip{
      margin-top:14px;
      border:1px solid rgba(130,188,0,.22);
      background:rgba(0,0,0,.22);
      border-radius:14px;
      overflow:hidden;
      position:relative;
    }
    .compute-strip .label{
      position:absolute; left:12px; top:8px;
      font-size:10px; letter-spacing:.28em; text-transform:uppercase;
      color:rgba(130,188,0,.75);
      z-index:2;
    }
    .ticker{
      display:flex;
      gap:38px;
      padding:28px 12px 12px 12px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12px;
      color:rgba(255,255,255,.60);
      white-space:nowrap;
      will-change:transform;
      animation: scrollLeft 18s linear infinite;
    }
    .ticker .ok{color:rgba(130,188,0,.9); font-weight:700;}
    .ticker .warn{color:rgba(253,224,71,.85); font-weight:700;}
    @keyframes scrollLeft{ 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }
    .ticker-wrap{display:flex; width:200%;}

    /* (7) System boot card enhanced + animated */
    .terminal{
      border:1px solid var(--border-white);
      background:rgba(255,255,255,.03);
      border-radius:18px;
      box-shadow:var(--shadow);
      padding:18px;
      position:relative;
      overflow:hidden;
    }
    .terminal:before{
      content:"";
      position:absolute; inset:0;
      box-shadow:inset 0 0 0 1px rgba(130,188,0,.06);
      pointer-events:none;
      border-radius:18px;
    }
    .terminal-head{
      display:flex; align-items:center; justify-content:space-between;
      margin-bottom:10px;
      font-size:11px;
      letter-spacing:.26em;
      text-transform:uppercase;
      color:rgba(255,255,255,.55);
    }
    .terminal-lines{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12px;
      color:rgba(255,255,255,.62);
      line-height:1.75;
    }
    .terminal-lines .ok{color:rgba(130,188,0,.9); font-weight:700;}
    .terminal-lines .strong{color:#fff; font-weight:700;}
    .terminal-divider{height:1px; background:rgba(130,188,0,.35); margin:10px 0;}
    .terminal-big{color:rgba(130,188,0,.95); font-weight:900; letter-spacing:.04em; margin-top:10px;}
    .cursor{
      display:inline-block;
      width:10px;
      animation: blink 1s steps(2, end) infinite;
      color:rgba(130,188,0,.95);
      font-weight:900;
    }
    @keyframes blink{ 0%,49%{opacity:1} 50%,100%{opacity:0} }

    /* ====== CAPABILITIES ====== */
    .cap-layout{
      display:grid;
      grid-template-columns: 420px 1fr;
      gap:18px;
      margin-top:26px;
      width:100%;
    }
    @media (max-width:980px){ .cap-layout{grid-template-columns:1fr;} }

    .panel{
      border:1px solid var(--border-white);
      background:var(--panel);
      border-radius:18px;
      box-shadow:var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .panel .inner-frame{
      pointer-events:none;
      position:absolute; inset:0;
      border-radius:18px;
      box-shadow: inset 0 0 0 1px rgba(130,188,0,.06);
    }

    .cap-list{padding:14px;}
    .cap-list-top{display:flex; align-items:center; justify-content:space-between; margin-bottom:10px;}
    /* (8) module list title white */
    .cap-list-title{
      font-size:11px; letter-spacing:.28em; text-transform:uppercase;
      color:rgba(255,255,255,.92);
    }
    .cap-list-count{font-size:11px; color:rgba(255,255,255,.5);}
    .cap-items{display:flex; flex-direction:column; gap:10px;}
    .cap-item{
      width:100%;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.02);
      border-radius:14px;
      padding:12px;
      display:flex; gap:12px; align-items:flex-start;
      cursor:pointer;
      transition:.18s ease;
      text-align:left;
    }
    .cap-item:hover{border-color:rgba(255,255,255,.22); background:rgba(255,255,255,.04);}
    .cap-item.active{
      border-color:rgba(130,188,0,.40);
      background:rgba(130,188,0,.06);
      box-shadow:0 0 0 1px rgba(130,188,0,.18);
    }
    .cap-item-left{width:92px; flex:0 0 92px;}
    .cap-index{font-size:10px; letter-spacing:.30em; color:rgba(130,188,0,.80);}
    .cap-index.big{font-size:12px;}
    .cap-status{margin-top:6px; display:flex; align-items:center; gap:8px;}
    .s-dot{width:6px;height:6px;border-radius:999px; display:inline-block;}
    .s-text{font-size:10px; letter-spacing:.22em; text-transform:uppercase; font-weight:700;}
    .monitoring{color:rgba(130,188,0,.85);}
    .monitoring.s-dot{background:rgba(130,188,0,.95);}
    .activeS{color:rgba(52,211,153,.95);}
    .activeS.s-dot{background:rgba(52,211,153,.95);}
    .optimal{color:rgba(163,230,53,.95);}
    .optimal.s-dot{background:rgba(163,230,53,.95);}

    .cap-item-mid{min-width:0; flex:1;}
    .cap-item-row{display:flex; align-items:center; justify-content:space-between; gap:10px;}
    /* (8) module title white (inside each item) */
    .cap-title{
      font-size:13px;
      font-weight:800;
      letter-spacing:.08em;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      color:rgba(255,255,255,.95);
    }
    .cap-pill{
      flex:0 0 auto;
      border:1px solid rgba(255,255,255,.10);
      border-radius:999px;
      padding:6px 10px;
      font-size:10px;
      letter-spacing:.22em;
      text-transform:uppercase;
      color:rgba(255,255,255,.62);
      background:rgba(0,0,0,.18);
    }
    .cap-desc{
      margin-top:6px;
      font-size:12px;
      color:rgba(255,255,255,.55);
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      overflow:hidden;
    }
    .cap-arrow{color:rgba(255,255,255,.45); margin-top:2px; transition:.18s ease;}
    .cap-item:hover .cap-arrow{color:rgba(255,255,255,.75);}
    .cap-item.active .cap-arrow{color:rgba(163,230,53,.95);}

    .cap-tip{
      margin-top:12px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.22);
      border-radius:14px;
      padding:12px;
      color:rgba(255,255,255,.55);
      font-size:12px;
    }
    .cap-tip-title{
      font-size:10px;
      letter-spacing:.28em;
      text-transform:uppercase;
      color:rgba(130,188,0,.8);
      margin-bottom:6px;
    }

    .cap-panel{padding:18px;}
    .cap-panel-top{display:flex; align-items:flex-start; justify-content:space-between; gap:14px; flex-wrap:wrap;}
    .cap-panel-meta{
      font-size:11px; letter-spacing:.28em; text-transform:uppercase;
      display:flex; align-items:center; gap:10px;
      color:rgba(255,255,255,.60);
    }
    .cap-panel-meta .meta-slash{color:rgba(255,255,255,.25);}
    .cap-panel-meta .meta-accent{color:rgba(163,230,53,.95); font-weight:800;}
    .cap-panel-status{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.22);
      border-radius:14px;
      padding:12px 14px;
      min-width:200px;
    }
    .status-label{font-size:10px; letter-spacing:.28em; text-transform:uppercase; color:rgba(255,255,255,.45);}
    .status-value{margin-top:6px; display:flex; align-items:center; gap:10px;}
    .status-value .s-text{font-size:11px;}
    .cap-panel-title{margin-top:14px; display:flex; align-items:baseline; gap:12px; flex-wrap:wrap;}
    .cap-panel-title h3{margin:0; font-size: clamp(22px, 2.6vw, 34px); font-weight:900; letter-spacing:-.02em;}
    .cap-panel-blurb{margin:12px 0 0; color:rgba(255,255,255,.70); max-width:860px;}

    .cap-kpis{
      margin-top:16px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:10px;
    }
    @media (max-width:720px){ .cap-kpis{grid-template-columns:1fr;} }
    .kpi{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.22);
      border-radius:14px;
      padding:12px 14px;
    }
    .kpi .k-label{font-size:10px; letter-spacing:.28em; text-transform:uppercase; color:rgba(130,188,0,.80);}
    .kpi .k-value{margin-top:8px; font-weight:900; font-size:22px; letter-spacing:-.02em;}
    .kpi .k-sub{margin-top:4px; font-size:11px; color:rgba(255,255,255,.45); letter-spacing:.22em; text-transform:uppercase;}

    .cap-columns{
      margin-top:14px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap:10px;
    }
    @media (max-width:980px){ .cap-columns{grid-template-columns:1fr;} }
    .cap-box{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.22);
      border-radius:16px;
      padding:14px;
    }
    .cap-box.accent{
      border-color:rgba(130,188,0,.25);
      background:rgba(130,188,0,.05);
    }
    .cap-box-head{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px;}
    .cap-box-title{font-size:11px; letter-spacing:.28em; text-transform:uppercase; color:rgba(130,188,0,.90);}
    .cap-box-count{font-size:11px; color:rgba(255,255,255,.40);}
    .cap-box-list{display:flex; flex-direction:column; gap:8px;}
    .cap-tag{
      display:flex; align-items:center; gap:10px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.02);
      border-radius:14px;
      padding:10px 12px;
      color:rgba(255,255,255,.72);
      font-size:13px;
      overflow:hidden;
      white-space:nowrap;
      text-overflow:ellipsis;
    }
    .cap-box.accent .cap-tag{
      border-color:rgba(130,188,0,.25);
      background:rgba(130,188,0,.06);
      color:rgba(255,255,255,.82);
    }
    .cap-tag .mini-dot{
      width:6px;height:6px;border-radius:999px;background:rgba(130,188,0,.85);
      box-shadow:0 0 14px rgba(130,188,0,.22);
      flex:0 0 6px;
    }
    .cap-actionbar{
      margin-top:16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }
    .cap-actiontext{font-size:12px; color:rgba(255,255,255,.55);}
    .cap-actiontext .lime{color:rgba(130,188,0,.9); font-weight:800;}
    .cap-actiontext .sep{color:rgba(255,255,255,.28); margin:0 6px;}
    .cap-actions{display:flex; gap:10px; flex-wrap:wrap;}

    /* ====== EXECUTE AUDIT ====== */
    .audit-center{display:grid; place-items:center; width:100%; margin-top:24px;}
    .audit-card{
      width:min(900px, 92vw);
      border:1px solid var(--border-white);
      background:var(--panel);
      border-radius:18px;
      box-shadow:var(--shadow);
      padding:26px;
      position:relative;
      overflow:hidden;
    }
    .audit-card:before{
      content:"";
      position:absolute; inset:0;
      border-radius:18px;
      box-shadow:inset 0 0 0 1px rgba(130,188,0,.06);
      pointer-events:none;
    }
    .audit-title{
      text-align:center;
      font-size: clamp(28px, 3.8vw, 52px);
      font-weight:900;
      letter-spacing:-.02em;
      margin:0 0 18px;
    }
    .form-grid{display:grid; grid-template-columns:1fr 1fr; gap:14px; margin-top:14px;}
    @media (max-width:780px){ .form-grid{grid-template-columns:1fr;} }
    label{
      display:block;
      font-size:10px;
      letter-spacing:.28em;
      text-transform:uppercase;
      color:rgba(130,188,0,.85);
      margin:10px 0 8px;
    }
    input, select, textarea{
      width:100%;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.22);
      color:rgba(255,255,255,.85);
      padding:12px 12px;
      outline:none;
      transition:.18s ease;
      font-family:inherit;
      font-size:14px;
    }
    input:focus, select:focus, textarea:focus{
      border-color:rgba(130,188,0,.35);
      box-shadow:0 0 0 3px rgba(130,188,0,.10);
    }
    textarea{min-height:120px; resize:vertical;}
    .audit-actions{margin-top:18px; display:flex; justify-content:center;}
    .audit-actions .btn{width:min(520px, 100%); padding:18px 18px; border-radius:16px; font-size:12px;}
    .notice{margin-top:12px; text-align:center; color:rgba(255,255,255,.50); font-size:12px;}

    /* ====== FOOTER ====== */
    footer{
      border-top:1px solid rgba(255,255,255,.06);
      background:linear-gradient(to top, rgba(2,6,23,.98), rgba(2,6,23,.88));
      padding:60px 0;
      position:relative;
      overflow:hidden;
    }
    .footer-grid{
      display:grid;
      grid-template-columns: 1.2fr 1fr 1fr 1fr;
      gap:18px;
      align-items:start;
    }
    @media (max-width:980px){ .footer-grid{grid-template-columns:1fr;} }
    .footer-brand{
      font-weight:900;
      letter-spacing:.02em;
      font-size:20px;
      margin-bottom:10px;
      line-height:1;
    }
    .footer-brand .comp{color:var(--lime); margin-left:-1px;}
    .footer-meta{
      color:rgba(255,255,255,.55);
      font-size:12px;
      letter-spacing:.12em;
      text-transform:uppercase;
      line-height:1.8;
    }
    .footer-col-title{
      font-size:11px;
      letter-spacing:.28em;
      text-transform:uppercase;
      color:rgba(130,188,0,.85);
      margin-bottom:12px;
    }
    .footer-links a{
      display:block;
      padding:8px 0;
      color:rgba(255,255,255,.65);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .footer-links a:last-child{border-bottom:none;}
    .footer-links a:hover{color:#fff;}
    .footer-contact{color:rgba(255,255,255,.70); line-height:1.8;}
    .mt-26{margin-top:26px;}
  </style>
</head>

<body>

  <!-- NAV -->
  <header class="nav">
    <div class="container">
      <div class="nav-inner">
        <a class="brand" href="#intelligence" aria-label="Safe Compliance Home">
          <span class="safe">SAFE</span><span class="comp">COMPLIANCE</span>
        </a>

        <nav class="nav-links" aria-label="Primary Navigation">
          <a href="#intelligence" class="nav-link active">INTELLIGENCE</a>
          <a href="#architecture" class="nav-link">ARCHITECTURE</a>
          <a href="#capabilities" class="nav-link">CAPABILITIES</a>
        </nav>

        <div class="nav-cta">
          <!-- (1) green execute audit button in header -->
          <a class="btn primary" href="#execute-audit">EXECUTE AUDIT</a>
          <button class="hamburger" id="hamburger" aria-label="Open menu"><span></span></button>
        </div>
      </div>

      <nav class="mobile-menu" id="mobileMenu" aria-label="Mobile Navigation">
        <a href="#intelligence" class="nav-link">INTELLIGENCE</a>
        <a href="#architecture" class="nav-link">ARCHITECTURE</a>
        <a href="#capabilities" class="nav-link">CAPABILITIES</a>
        <a href="#execute-audit" class="nav-link">EXECUTE AUDIT</a>
      </nav>
    </div>
  </header>

  <!-- INTELLIGENCE -->
  <section id="intelligence" class="fullscreen hero">
    <div class="separator-top"></div>
    <div class="separator-bottom"></div>
    <div class="scanlines"></div>
    <div class="glow"></div>

    <div class="container" style="position:relative; z-index:1;">
      <div class="statusline">
        <!-- (2) pulsing dot -->
        <span class="pulse-dot"></span>
        SYSTEM STATUS: OPTIMAL // ENCRYPTION: AES-256
      </div>

      <div class="hero-grid">
        <div>
          <h1>
            <!-- (3) INTELLIGENCE-LED on same line; (4) ESTATE GOVERNANCE green -->
            <span class="break">INTELLIGENCE-LED ESTATE</span>
            <span class="break green">GOVERNANCE.</span>
          </h1>

          <p>
            A complete compliance management program for any sized business.
            Safe Compliance provides a unified intelligence layer for estate governance and real-time risk mitigation across complex portfolios.
          </p>

          <div class="hero-actions">
            <a class="btn primary" href="#architecture">DEPLOY ARCHITECTURE</a>
            <a class="btn" href="#capabilities">VIEW MODULES</a>
          </div>
        </div>

        <!-- (5) Removed the system console card from this section -->
      </div>
    </div>
  </section>

  <!-- ARCHITECTURE -->
  <section id="architecture" class="fullscreen">
    <div class="separator-top"></div>
    <div class="separator-bottom"></div>
    <div class="scanlines"></div>
    <div class="glow"></div>

    <div class="container" style="position:relative; z-index:1;">
      <div class="kicker"><span class="pulse-dot"></span> ARCHITECTURE // CENTRAL COMMAND</div>

      <div class="compute-strip" aria-label="Live computing ticker">
        <div class="label">COMMAND_LAYER_ESTABLISHED</div>
        <div class="ticker-wrap">
          <div class="ticker" aria-hidden="true">
            <span><span class="ok">&gt;</span> INIT_UPLINK</span>
            <span><span class="ok">&gt;</span> LOAD_COMPLIANCE_ENGINE</span>
            <span><span class="ok">&gt;</span> SYNC_TELEMETRY_NODES</span>
            <span><span class="ok">&gt;</span> MAP_PORTFOLIO_REGISTERS</span>
            <span><span class="warn">&gt;</span> VERIFY_EVIDENCE_PACKS</span>
            <span><span class="ok">&gt;</span> HARDEN_AES256</span>
            <span><span class="ok">&gt;</span> RISK_MODEL_ONLINE</span>
            <span><span class="ok">&gt;</span> HEALTH_INDEX_STABLE</span>

            <span><span class="ok">&gt;</span> INIT_UPLINK</span>
            <span><span class="ok">&gt;</span> LOAD_COMPLIANCE_ENGINE</span>
            <span><span class="ok">&gt;</span> SYNC_TELEMETRY_NODES</span>
            <span><span class="ok">&gt;</span> MAP_PORTFOLIO_REGISTERS</span>
            <span><span class="warn">&gt;</span> VERIFY_EVIDENCE_PACKS</span>
            <span><span class="ok">&gt;</span> HARDEN_AES256</span>
            <span><span class="ok">&gt;</span> RISK_MODEL_ONLINE</span>
            <span><span class="ok">&gt;</span> HEALTH_INDEX_STABLE</span>
          </div>
        </div>
      </div>

      <div class="arch-grid">
        <div>
          <!-- (6) Dominance text green -->
          <h2 class="title"><span class="green">Centralised Dominance.</span></h2>
          <p class="lead">
            Eliminating the friction between physical assets and digital oversight.
            Our proprietary architecture dismantles fragmentation by converting raw telemetry into high-fidelity governance data.
          </p>

          <div class="stats">
            <div class="stat">
              <div class="label">SYNC_RATE</div>
              <div class="value" data-live="ms">0.5ms</div>
              <div class="sub">REAL-TIME</div>
            </div>
            <div class="stat">
              <div class="label">UPTIME</div>
              <div class="value" data-live="pct">99.99%</div>
              <div class="sub">AVAILABILITY</div>
            </div>
            <div class="stat">
              <div class="label">ENCRYPTION</div>
              <div class="value">AES-256</div>
              <div class="sub">SECURE</div>
            </div>
          </div>
        </div>

        <!-- (7) Enhanced + animated system boot card -->
        <div class="terminal" aria-label="Live system boot checks">
          <div class="terminal-head">
            <span>SYSTEM_BOOT // LIVE_CHECK</span>
            <span class="green" style="font-weight:900; letter-spacing:.26em;">RUNNING</span>
          </div>
          <div class="terminal-lines" id="bootLog">
            <div><span class="ok">&gt; [SYSTEM_BOOT]</span> : <span class="strong">SUCCESSFUL</span></div>
            <div>&gt; LOADING_COMPLIANCE_ENGINE... <span class="strong">DONE</span></div>
            <div>&gt; VERIFYING_SITE_INTEGRITY... <span class="strong">PASS</span></div>
            <div>&gt; PING_TELEMETRY_NODES... <span class="strong">OK</span></div>
            <div class="terminal-divider"></div>
            <div class="terminal-big">ESTATE_HEALTH_INDEX: <span id="healthIndex">100</span>%</div>
            <div>&gt; LIVE_MONITOR: ENABLED <span class="cursor">▌</span></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CAPABILITIES -->
  <section id="capabilities" class="fullscreen">
    <div class="separator-top"></div>
    <div class="separator-bottom"></div>
    <div class="scanlines"></div>
    <div class="glow"></div>

    <div class="container" style="position:relative; z-index:1;">
      <div class="kicker"><span class="pulse-dot"></span> CAPABILITIES // COMMAND_LAYER</div>

      <!-- (7) Centre Modules text green -->
      <h2 class="title">Command <span class="green">Centre Modules.</span></h2>

      <p class="lead">
        Select a discipline to inspect live signals, governance outputs, and protocol coverage — all from a unified control surface.
      </p>

      <div class="cap-layout">
        <aside class="panel cap-list">
          <div class="cap-list-top">
            <div class="cap-list-title">MODULE LIST</div>
            <div class="cap-list-count"><span id="moduleCount">08</span> modules</div>
          </div>

          <div class="cap-items" id="capItems"></div>

          <div class="cap-tip">
            <div class="cap-tip-title">TIP</div>
            <div>Click a module to load its governance profile in the right panel.</div>
          </div>

          <div class="inner-frame"></div>
        </aside>

        <div class="panel cap-panel" aria-live="polite">
          <div class="cap-panel-top">
            <div class="cap-panel-meta">
              <span class="meta-muted">SELECTED_MODULE</span>
              <span class="meta-slash">/</span>
              <span class="meta-accent" id="panelCategory">COMPLIANCE</span>
            </div>

            <div class="cap-panel-status">
              <div class="status-label">MODULE STATUS</div>
              <div class="status-value">
                <span id="panelStatusDot" class="s-dot monitoring"></span>
                <span id="panelStatusText" class="s-text monitoring">MONITORING</span>
              </div>
            </div>
          </div>

          <div class="cap-panel-title">
            <div class="cap-index big" id="panelIndex">[01]</div>
            <h3 id="panelTitle">WATER HYGIENE</h3>
          </div>

          <p class="cap-panel-blurb" id="panelBlurb"></p>

          <div class="cap-kpis" id="panelKpis"></div>

          <div class="cap-columns">
            <div class="cap-box">
              <div class="cap-box-head">
                <div class="cap-box-title">SIGNALS MONITORED</div>
                <div class="cap-box-count" id="signalsCount">00x</div>
              </div>
              <div class="cap-box-list" id="panelSignals"></div>
            </div>

            <div class="cap-box">
              <div class="cap-box-head">
                <div class="cap-box-title">OUTPUTS GENERATED</div>
                <div class="cap-box-count" id="outputsCount">00x</div>
              </div>
              <div class="cap-box-list" id="panelOutputs"></div>
            </div>

            <div class="cap-box accent">
              <div class="cap-box-head">
                <div class="cap-box-title">PROTOCOL COVERAGE</div>
                <div class="cap-box-count" id="protocolsCount">00x</div>
              </div>
              <div class="cap-box-list" id="panelProtocols"></div>
            </div>
          </div>

          <div class="cap-actionbar">
            <div class="cap-actiontext">
              <span class="lime">SYSTEM_STATUS:</span> READY <span class="sep">//</span> AUDIT_INTERFACE_AVAILABLE
            </div>

            <div class="cap-actions">
              <!-- (10) Removed View Module button -->
              <a href="#execute-audit" class="btn primary">EXECUTE AUDIT</a>
            </div>
          </div>

          <div class="inner-frame"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- EXECUTE AUDIT -->
  <section id="execute-audit" class="fullscreen">
    <div class="separator-top"></div>
    <div class="separator-bottom"></div>
    <div class="scanlines"></div>
    <div class="glow"></div>

    <div class="container" style="position:relative; z-index:1;">
      <div class="kicker" style="justify-content:center;"><span class="pulse-dot"></span> SYSTEM AUDIT</div>

      <!-- (11) Compliance Protocol green -->
      <h2 class="audit-title">EXECUTE <span class="green">COMPLIANCE PROTOCOL</span></h2>

      <div class="audit-center">
        <div class="audit-card">
          <form id="auditForm">
            <div class="form-grid">
              <div>
                <label for="estateName">ESTATE NAME</label>
                <input id="estateName" name="estateName" type="text" placeholder="Enter portfolio / estate name..." required />
              </div>

              <div>
                <label for="contactName">CONTACT NAME</label>
                <input id="contactName" name="contactName" type="text" placeholder="Authorised personnel..." required />
              </div>

              <div>
                <label for="contactTel">CONTACT TEL</label>
                <input id="contactTel" name="contactTel" type="tel" placeholder="+44..." />
              </div>

              <div>
                <label for="contactEmail">CONTACT EMAIL</label>
                <input id="contactEmail" name="contactEmail" type="email" placeholder="secure_uplink@email.com" required />
              </div>
            </div>

            <div class="mt-26">
              <label for="discipline">ENQUIRY OPTIONS</label>
              <select id="discipline" name="discipline" required>
                <option value="" selected disabled>Select discipline...</option>
                <option>Water Hygiene</option>
                <option>Fire, Health & Safety</option>
                <option>Infrastructure</option>
                <option>Accreditation / ISO</option>
                <option>Environmental</option>
                <option>Security</option>
                <option>Electrical</option>
                <option>Asbestos</option>
                <option>Full Portfolio Audit</option>
              </select>
            </div>

            <div class="mt-26">
              <label for="notes">NOTES</label>
              <textarea id="notes" name="notes" placeholder="Add any context (sites, timelines, compliance concerns)..."></textarea>
            </div>

            <div class="audit-actions">
              <button class="btn primary" type="submit">EXECUTE AUDIT REQUEST</button>
            </div>

            <div class="notice" id="formNotice" aria-live="polite"></div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="separator-top"></div>
    <div class="scanlines"></div>
    <div class="glow"></div>

    <div class="container" style="position:relative; z-index:1;">
      <div class="footer-grid">
        <div>
          <div class="footer-brand">
            <span class="safe">SAFE</span><span class="comp">COMPLIANCE</span>
          </div>
          <div class="footer-meta">
            ESTABLISHED 2026 // VERSION 4.0.1<br/>
            © ALL RIGHTS RESERVED.
          </div>
        </div>

        <div>
          <div class="footer-col-title">SYSTEM</div>
          <div class="footer-links">
            <a href="#intelligence">Intelligence</a>
            <a href="#architecture">Architecture</a>
            <a href="#capabilities">Capabilities</a>
            <a href="#execute-audit">Execute Audit</a>
          </div>
        </div>

        <div>
          <div class="footer-col-title">LEGAL</div>
          <div class="footer-links">
            <a href="#terms">Terms</a>
            <a href="#privacy">Privacy</a>
            <a href="#protocols">Protocols</a>
          </div>
        </div>

        <div>
          <!-- (12) Use same title class as others -->
          <div class="footer-col-title">COMMAND CENTRE</div>
          <div class="footer-contact">
            71–75 Shelton Street<br/>
            London, WC2H 9JQ<br/><br/>
            T: 0330 0432153 (local rate)
          </div>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // ===== Mobile menu =====
    const hamburger = document.getElementById("hamburger");
    const mobileMenu = document.getElementById("mobileMenu");
    hamburger?.addEventListener("click", () => mobileMenu.classList.toggle("open"));
    mobileMenu?.addEventListener("click", (e) => {
      if (e.target && e.target.tagName === "A") mobileMenu.classList.remove("open");
    });

    // ===== Capabilities data =====
    const CAPS = [
      {
        id: "water",
        index: "01",
        title: "WATER HYGIENE",
        category: "COMPLIANCE",
        status: "MONITORING",
        blurb: "Advanced water compliance protocols and telemetry for real-time temperature and flow oversight across distributed nodes.",
        kpis: [
          { label: "SYNC_RATE", value: 0.5, suffix: "ms", live: "ms", sub: "real-time" },
          { label: "COVERAGE", value: 99.9, suffix: "%", live: "pct", sub: "nodes" },
          { label: "ENCRYPTION", value: "AES-256", live: null, sub: "secure" }
        ],
        signals: ["Temp probes", "Flow meters", "Stagnation windows", "Sampling logs"],
        outputs: ["Risk scoring", "Auto escalation", "Audit-ready registers", "Remediation tasks"],
        protocols: ["ACoP L8", "HSG274", "Legionella controls"]
      },
      {
        id: "fire",
        index: "02",
        title: "FIRE, H&S",
        category: "SAFETY",
        status: "ACTIVE",
        blurb: "Full-spectrum risk alignment and automated assessments for critical life safety and evacuation readiness.",
        kpis: [
          { label: "READINESS", value: 100, suffix: "%", live: "pctSmall", sub: "status" },
          { label: "CHECKS", value: "24/7", live: null, sub: "real-time" },
          { label: "UPTIME", value: 99.99, suffix: "%", live: "pct", sub: "availability" }
        ],
        signals: ["Alarm health", "Device tests", "Evac routes", "Drill outcomes"],
        outputs: ["Nonconformance alerts", "Auto schedules", "Compliance timeline", "Evidence packs"],
        protocols: ["RRO alignment", "Evacuation protocols", "Life safety controls"]
      },
      {
        id: "infrastructure",
        index: "03",
        title: "INFRASTRUCTURE",
        category: "OPERATIONS",
        status: "OPTIMAL",
        blurb: "Precision monitoring of physical estate assets, converting mechanical telemetry into actionable governance data.",
        kpis: [
          { label: "HEALTH_INDEX", value: 98, suffix: "%", live: "pctSmall", sub: "estate" },
          { label: "ASSETS", value: 412, suffix: "", live: "int", sub: "tracked" },
          { label: "LATENCY", value: 1.2, suffix: "ms", live: "ms", sub: "uplink" }
        ],
        signals: ["Plant runtime", "Fault codes", "Energy draw", "Maintenance logs"],
        outputs: ["Predictive flags", "Register updates", "Work orders", "SLA variance reports"],
        protocols: ["Asset governance", "Planned maintenance controls"]
      },
      {
        id: "accreditation",
        index: "04",
        title: "ACCREDITATION",
        category: "GOVERNANCE",
        status: "MONITORING",
        blurb: "Strategic governance for ISO frameworks, ensuring constant audit-readiness across complex portfolios.",
        kpis: [
          { label: "AUDIT_READY", value: "YES", live: null, sub: "state" },
          { label: "GAPS", value: 0, suffix: "", live: "int", sub: "critical" },
          { label: "CYCLE", value: "LIVE", live: null, sub: "continuous" }
        ],
        signals: ["Evidence expiry", "Policy deltas", "Training cadence", "Supplier status"],
        outputs: ["Gap analysis", "Evidence packs", "Policy mappings", "CI log"],
        protocols: ["ISO 9001", "ISO 14001", "ISO 45001"]
      },
      {
        id: "environmental",
        index: "05",
        title: "ENVIRONMENTAL",
        category: "SUSTAINABILITY",
        status: "OPTIMAL",
        blurb: "Intelligent HVAC and air quality monitoring to drive sustainability targets and optimise energy efficiency.",
        kpis: [
          { label: "AIR_SCORE", value: "A", live: null, sub: "quality" },
          { label: "EFFICIENCY", value: 12, suffix: "%", live: "pctSmall", sub: "YoY" },
          { label: "STREAM", value: "LIVE", live: null, sub: "telemetry" }
        ],
        signals: ["CO₂", "PM2.5", "Temp/Humidity", "kWh telemetry"],
        outputs: ["Threshold alerts", "Trend reports", "Efficiency actions", "ESG signals"],
        protocols: ["Air quality controls", "Energy governance"]
      },
      {
        id: "security",
        index: "06",
        title: "SECURITY",
        category: "SECURITY",
        status: "ACTIVE",
        blurb: "Unified oversight of access control, perimeter security, and surveillance through a single command interface.",
        kpis: [
          { label: "ALERTS", value: 3, suffix: "", live: "int", sub: "current" },
          { label: "VISIBILITY", value: 100, suffix: "%", live: "pctSmall", sub: "coverage" },
          { label: "CONTROL", value: "CENTRAL", live: null, sub: "command" }
        ],
        signals: ["Door events", "CCTV status", "Perimeter alarms", "Visitor logs"],
        outputs: ["Incident trails", "Anomaly detection", "Access reviews", "Response workflows"],
        protocols: ["Access governance", "Incident handling"]
      },
      {
        id: "electrical",
        index: "07",
        title: "ELECTRICAL",
        category: "SAFETY",
        status: "MONITORING",
        blurb: "Fixed wire testing and PAT oversight integrated into a live register for instant verification and compliance trails.",
        kpis: [
          { label: "EXPIRY", value: 0, suffix: "", live: "int", sub: "overdue" },
          { label: "REGISTER", value: "LIVE", live: null, sub: "status" },
          { label: "VERIFY", value: "INSTANT", live: null, sub: "checks" }
        ],
        signals: ["EICR dates", "PAT checks", "Defect logs", "Remedial actions"],
        outputs: ["Expiry alerts", "Engineer scheduling", "Evidence packs", "Defect dashboards"],
        protocols: ["EICR", "PAT", "Electrical safety controls"]
      },
      {
        id: "asbestos",
        index: "08",
        title: "ASBESTOS",
        category: "SAFETY",
        status: "ACTIVE",
        blurb: "Digital asbestos registers and removal tracking for complete lifecycle governance and dutyholder confidence.",
        kpis: [
          { label: "REGISTER", value: 100, suffix: "%", live: "pctSmall", sub: "coverage" },
          { label: "RISK", value: "MANAGED", live: null, sub: "state" },
          { label: "TRAIL", value: "COMPLETE", live: null, sub: "audit" }
        ],
        signals: ["Survey records", "Material changes", "Removals", "Re-inspections"],
        outputs: ["Dutyholder pack", "Lifecycle tracking", "Contractor controls", "Risk mapping"],
        protocols: ["Asbestos regs", "Register governance"]
      }
    ];

    const statusToClass = (status) => {
      if (status === "ACTIVE") return "activeS";
      if (status === "OPTIMAL") return "optimal";
      return "monitoring";
    };

    // Render left list
    const capItemsEl = document.getElementById("capItems");
    const moduleCountEl = document.getElementById("moduleCount");
    moduleCountEl.textContent = String(CAPS.length).padStart(2,"0");

    function createCapButton(cap, isActive){
      const sClass = statusToClass(cap.status);
      const btn = document.createElement("button");
      btn.className = "cap-item" + (isActive ? " active" : "");
      btn.type = "button";
      btn.dataset.id = cap.id;

      btn.innerHTML = `
        <div class="cap-item-left">
          <div class="cap-index">[${cap.index}]</div>
          <div class="cap-status">
            <span class="s-dot ${sClass}"></span>
            <span class="s-text ${sClass}">${cap.status}</span>
          </div>
        </div>
        <div class="cap-item-mid">
          <div class="cap-item-row">
            <div class="cap-title">${cap.title}</div>
            <div class="cap-pill">${cap.category}</div>
          </div>
          <div class="cap-desc">${cap.blurb}</div>
        </div>
        <div class="cap-arrow">→</div>
      `;
      return btn;
    }

    function renderLeftList(activeId){
      capItemsEl.innerHTML = "";
      CAPS.forEach((cap) => {
        const btn = createCapButton(cap, cap.id === activeId);
        btn.addEventListener("click", () => setActive(cap.id));
        capItemsEl.appendChild(btn);
      });
    }

    // Right panel elements
    const panelCategory = document.getElementById("panelCategory");
    const panelStatusDot = document.getElementById("panelStatusDot");
    const panelStatusText = document.getElementById("panelStatusText");
    const panelIndex = document.getElementById("panelIndex");
    const panelTitle = document.getElementById("panelTitle");
    const panelBlurb = document.getElementById("panelBlurb");
    const panelKpis = document.getElementById("panelKpis");
    const panelSignals = document.getElementById("panelSignals");
    const panelOutputs = document.getElementById("panelOutputs");
    const panelProtocols = document.getElementById("panelProtocols");
    const signalsCount = document.getElementById("signalsCount");
    const outputsCount = document.getElementById("outputsCount");
    const protocolsCount = document.getElementById("protocolsCount");

    // (9) track live KPI nodes so we can animate them
    let liveKpiNodes = []; // [{el, type, base, suffix}]

    function renderTags(el, items){
      el.innerHTML = "";
      items.forEach((t) => {
        const div = document.createElement("div");
        div.className = "cap-tag";
        div.innerHTML = `<span class="mini-dot"></span><span>${t}</span>`;
        el.appendChild(div);
      });
    }

    function formatValue(type, value, suffix){
      if (type === "ms") return value.toFixed(1) + (suffix || "ms");
      if (type === "pct") return value.toFixed(2) + (suffix || "%");
      if (type === "pctSmall") return Math.round(value) + (suffix || "%");
      if (type === "int") return Math.max(0, Math.round(value)) + (suffix || "");
      return String(value) + (suffix || "");
    }

    function renderKpis(kpis){
      panelKpis.innerHTML = "";
      liveKpiNodes = [];

      kpis.forEach((k) => {
        const div = document.createElement("div");
        div.className = "kpi";

        // store live type on the value span if numeric
        const isLive = !!k.live;
        const safeText = isLive ? formatValue(k.live, Number(k.value), k.suffix) : String(k.value);

        div.innerHTML = `
          <div class="k-label">${k.label}</div>
          <div class="k-value" ${isLive ? `data-live="${k.live}" data-base="${k.value}" data-suffix="${k.suffix || ""}"` : ""}>
            ${safeText}
          </div>
          ${k.sub ? `<div class="k-sub">${k.sub}</div>` : ""}
        `;

        panelKpis.appendChild(div);

        if (isLive){
          const valueEl = div.querySelector(".k-value");
          liveKpiNodes.push({
            el: valueEl,
            type: k.live,
            base: Number(k.value),
            suffix: k.suffix || ""
          });
        }
      });
    }

    function setActive(id){
      const cap = CAPS.find(c => c.id === id) || CAPS[0];
      const sClass = statusToClass(cap.status);

      panelCategory.textContent = cap.category;
      panelIndex.textContent = `[${cap.index}]`;
      panelTitle.textContent = cap.title;
      panelBlurb.textContent = cap.blurb;

      panelStatusDot.className = `s-dot ${sClass}`;
      panelStatusText.className = `s-text ${sClass}`;
      panelStatusText.textContent = cap.status;

      renderKpis(cap.kpis);
      renderTags(panelSignals, cap.signals);
      renderTags(panelOutputs, cap.outputs);
      renderTags(panelProtocols, cap.protocols);

      signalsCount.textContent = String(cap.signals.length).padStart(2,"0") + "x";
      outputsCount.textContent = String(cap.outputs.length).padStart(2,"0") + "x";
      protocolsCount.textContent = String(cap.protocols.length).padStart(2,"0") + "x";

      renderLeftList(cap.id);
    }

    renderLeftList(CAPS[0].id);
    setActive(CAPS[0].id);

    // Nav active highlighting on scroll
    const navLinks = Array.from(document.querySelectorAll(".nav-link"));
    const sections = ["intelligence","architecture","capabilities","execute-audit"]
      .map(id => document.getElementById(id))
      .filter(Boolean);

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (!entry.isIntersecting) return;
        const id = entry.target.id;
        navLinks.forEach(a => {
          const href = a.getAttribute("href") || "";
          a.classList.toggle("active", href === "#" + id);
        });
      });
    }, { root: null, threshold: 0.35 });

    sections.forEach(sec => observer.observe(sec));

    // Execute Audit form demo
    const auditForm = document.getElementById("auditForm");
    const formNotice = document.getElementById("formNotice");
    auditForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const data = new FormData(auditForm);
      const estate = (data.get("estateName") || "").toString().trim();
      const discipline = (data.get("discipline") || "").toString().trim();
      formNotice.textContent = `Request queued: ${estate} // ${discipline}. (Connect this to your email/CRM endpoint when ready.)`;
      auditForm.reset();
      setTimeout(() => (formNotice.textContent = ""), 7000);
    });

    // ===== (7) Animate SYSTEM_BOOT log so it looks live =====
    const bootLog = document.getElementById("bootLog");
    const healthIndex = document.getElementById("healthIndex");

    const liveChecks = [
      { t: "CHECKING_SSL_CERTIFICATE...", r: "VALID" },
      { t: "VALIDATING_NAV_LINKS...", r: "PASS" },
      { t: "SCANNING_SECTION_RENDER...", r: "OK" },
      { t: "VERIFYING_FORM_ENDPOINT...", r: "READY" },
      { t: "PING_TELEMETRY_GATEWAY...", r: "OK" },
      { t: "HASHING_ASSET_MANIFEST...", r: "DONE" },
      { t: "AUDIT_PIPELINE_STATUS...", r: "ONLINE" }
    ];

    function addLiveLine(){
      const pick = liveChecks[Math.floor(Math.random()*liveChecks.length)];
      const line = document.createElement("div");
      line.innerHTML = `&gt; ${pick.t} <span class="strong">${pick.r}</span>`;
      // insert just above divider
      const divider = bootLog.querySelector(".terminal-divider");
      bootLog.insertBefore(line, divider);

      // keep it tidy (limit lines)
      const lines = bootLog.querySelectorAll("div");
      // allow a few fixed lines + some live ones
      if (lines.length > 12){
        // remove the oldest dynamic line after the initial 4
        bootLog.removeChild(lines[4]);
      }
    }

    setInterval(addLiveLine, 1400);

    // live health index slight drift
    let hi = 100;
    setInterval(() => {
      hi = Math.max(96, Math.min(100, hi + (Math.random() < 0.6 ? 0 : (Math.random() < 0.5 ? -1 : +1))));
      healthIndex.textContent = String(Math.round(hi));
    }, 1200);

    // ===== (9) Animate some KPI numbers in Capabilities right panel =====
    function tickLiveKpis(){
      liveKpiNodes.forEach(node => {
        const { el, type, base, suffix } = node;

        let v = base;
        if (type === "ms"){
          v = base + (Math.random() * 0.3 - 0.15); // +/- 0.15ms
          v = Math.max(0.1, v);
        } else if (type === "pct"){
          v = base + (Math.random() * 0.03 - 0.015); // +/- 0.015
          v = Math.max(90, Math.min(100, v));
        } else if (type === "pctSmall"){
          v = base + (Math.random() < 0.2 ? (Math.random() < 0.5 ? -1 : 1) : 0);
          v = Math.max(0, Math.min(100, v));
        } else if (type === "int"){
          v = base + (Math.random() < 0.25 ? (Math.random() < 0.5 ? -1 : 1) : 0);
          v = Math.max(0, v);
        }

        el.textContent = formatValue(type, Number(v), suffix);
      });
    }
    setInterval(tickLiveKpis, 900);

    // also animate the Architecture stats values (optional subtle)
    const statLive = document.querySelectorAll("[data-live]");
    setInterval(() => {
      statLive.forEach(el => {
        const mode = el.getAttribute("data-live");
        const txt = el.textContent || "";
        if (mode === "ms"){
          const base = 0.5;
          const v = Math.max(0.1, base + (Math.random()*0.2 - 0.1));
          el.textContent = v.toFixed(1) + "ms";
        }
        if (mode === "pct"){
          const base = 99.99;
          const v = Math.max(99.90, Math.min(100, base + (Math.random()*0.03 - 0.015)));
          el.textContent = v.toFixed(2) + "%";
        }
      });
    }, 1000);
  </script>
</body>
</html>




